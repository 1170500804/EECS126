%%%%%%%%%%%% PACKAGES %%%%%%%%%%%%%%%%
\usepackage{amsmath,amssymb,amsthm}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{caption}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage[shortlabels]{enumitem}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{array}
\usepackage{thmtools}
\usepackage{hyperref} % for clickable links in toc
\usepackage{bbm}

%%%%%%%%% If/Else
\newif\iftylerheader\tylerheaderfalse
\newif\iftylerhints\tylerhintsfalse
\newif\iftyleranswers\tyleranswersfalse
\newif\iftylermargin\tylermarginfalse
\newif\iftylerkoma\tylerkomafalse
%%%%%%%  Receive Arguments
\DeclareOption{header}{\tylerheadertrue}
\DeclareOption{noheader}{\tylerheaderfalse}
\DeclareOption{hints}{\tylerhintstrue}
\DeclareOption{nohints}{\tylerhintsfalse}
\DeclareOption{answers}{\tyleranswerstrue}
\DeclareOption{noanswers}{\tyleranswersfalse}
\DeclareOption{margin}{\tylermargintrue}
\DeclareOption{nomargin}{\tylermarginfalse}
\DeclareOption{koma}{\tylerkomatrue}
\DeclareOption{nokoma}{\tylerkomafalse}
\ProcessOptions

%%%%%%%%%%%%%%  PAGE SETUP %%%%%%%%%%%%%%%%%
\iftylerheader
	\usepackage{fancyhdr}
	\fancyhf{}
	\fancyhead[l]{\slshape\nouppercase{\leftmark}}
	\fancyhead[r]{Tyler Zhu}
	\cfoot{\thepage}
\fi

\iftylerkoma
    \thispagestyle{empty}
    \usepackage{sectsty}
    \allsectionsfont{\normalfont\sffamily\bfseries}
    \setkomafont{section}{\large} %sets section headers to a reasonable size
\fi

\iftylermargin
    \geometry{
         left=1in,
         right=1in,
         top=1in,
         bottom=1in
     }
\fi

\iftylerhints 
    \usepackage{answers}
    \Newassociation{hint}{hintitem}{hints}
    \renewcommand{\solutionextension}{out}
    \Opensolutionfile{hints}
    \newcommand{\makehints}{\Closesolutionfile{hints}\input{hints.out}}
\fi

% Define a Sans-Serif Environment for KOMA Type Documents
\newtheoremstyle{ss-definition}% <name>
    {3pt}% <Space above>
    {3pt}% <Space below>
    {}% <Body font>
    {}% <Indent amount>
    {\sffamily\bfseries}% <Theorem head font>
    {.}% <Punctuation after theorem head>
    {.5em}% <Space after theorem headi>
    {}% <Theorem head spec (can be left empty, meaning `normal')>


%%%%%%% Nice Theorem Style  %%%%%

\mdfdefinestyle{mdbluebox}{%
    roundcorner = 10pt,
    linewidth=1pt,
    skipabove=12pt,
    innerbottommargin=9pt,
    skipbelow=2pt,
    linecolor=blue,
    nobreak=true,
    backgroundcolor=TealBlue!5,
}
\declaretheoremstyle[
    headfont=\sffamily\bfseries\color{MidnightBlue},
    mdframed={style=mdbluebox},
    headpunct={\\[3pt]},
    postheadspace={0pt}
]{thmbluebox}
\declaretheorem[%
style=thmbluebox,name=Theorem]{theorem}

\mdfdefinestyle{mdredbox}{%
    linewidth=0.5pt,
    skipabove=12pt,
    frametitleaboveskip=5pt,
    frametitlebelowskip=0pt,
    skipbelow=2pt,
    frametitlefont=\bfseries,
    innertopmargin=4pt,
    innerbottommargin=8pt,
    nobreak=true,
    backgroundcolor=Salmon!5,
    linecolor=RawSienna,
}
\declaretheoremstyle[
    headfont=\bfseries\color{RawSienna},
    mdframed={style=mdredbox},
    headpunct={\\[3pt]},
    postheadspace={0pt},
]{thmredbox}
\declaretheorem[%
style=thmredbox,name=Example,numberwithin=section]{example}

\iftylerkoma 
    \theoremstyle{ss-definition}
\else
    \theoremstyle{definition}
\fi
%\newtheorem{theorem}{Theorem}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{problem}{Problem}

%\newtheorem{example}{Example}[section]
\newtheorem{exercise}[example]{Exercise}
\newtheorem*{question}{Question}

%\newtheorem{problem}{Problem}
%\newtheorem{example}{Example}

% Blackboard Math Fonts
\newcommand{\one}{\mathbbm 1}
\newcommand{\CC}{\mathbb C}
\newcommand{\EE}{\mathbb E}
\newcommand{\FF}{\mathbb F}
\newcommand{\II}{\mathbb I}
\newcommand{\NN}{\mathbb N}
\newcommand{\PP}{\mathbb P}
\newcommand{\QQ}{\mathbb Q}
\newcommand{\RR}{\mathbb R}
\renewcommand{\SS}{\mathbb S}
\newcommand{\ZZ}{\mathbb Z}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

% Shorthands
\newcommand{\ii}{\item}
\newcommand{\alphanum}{\begin{enumerate}[(a)]}
\newcommand{\enumend}{\end{enumerate}}
\newcommand{\la}{\lambda}
\newcommand{\om}{\omega}
\newcommand{\si}{\sigma}
\newcommand{\vv}{\vec{v}}
\newcommand{\x}{\times}
\newcommand{\Col}[1]{$\text{Col}$($#1$)}
\newcommand{\Nul}[1]{$\text{Nul}$($#1$)}
\newcommand{\tr}[1]{\text{tr } #1 } 
\newcommand{\bbm}{\begin{bmatrix}}
\newcommand{\ebm}{\end{bmatrix}}


% Probability Theory Commands
\newcommand{\Bin}{\text{Bin}}
\newcommand{\Ber}{\text{Ber}}
\newcommand{\Exp}{\text{Exp}}
\newcommand{\Var}{\text{Var}}
\newcommand{\Cov}{\text{Cov}}
\newcommand{\Corr}{\text{Corr}}
\newcommand{\Expo}{\text{Expo}}
\newcommand{\Geo}{\text{Geo}}
\newcommand{\Poisson}{\text{Poisson}}
\newcommand{\Nor}{\mathcal{N}}
\newcommand{\asure}{\xrightarrow{\text{a.s.}}}
\newcommand{\cinprob}{\xrightarrow[n\to\infty]{\PP}}
\newcommand{\BEC}[1]{\text{BEC}(#1)}

%%%%%%%%%% Math (255) Things %%%%%%%%%%%%%%
\newcommand{\pd}{\partial}
\newcommand{\parx}[1]{\dfrac{\partial #1}{\partial x}}
\newcommand{\pary}[1]{\dfrac{\partial #1}{\partial y}}
\newcommand{\parz}[1]{\dfrac{\partial #1}{\partial z}}

% Augmented Matrices 
\newenvironment{amatrix}[1]{%
  \left[\begin{array}{@{}*{#1}{c}|c@{}}
}{%
  \end{array}\right]
} 

% For ease in using arrays
\newcolumntype{C}{>$c<$}

% Column Vectors
\newcount\colveccount
\newcommand*\colvec[1]{
        \global\colveccount#1
        \begin{bmatrix}
        \colvecnext
}
\def\colvecnext#1{
        #1
        \global\advance\colveccount-1
        \ifnum\colveccount>0
                \\
                \expandafter\colvecnext
        \else
                \end{bmatrix}
        \fi
}


%%%%% ALGORITHMS %%%%%
\makeatletter
\def\BState{\State\hskip-\ALG@thistlm}
\makeatother


